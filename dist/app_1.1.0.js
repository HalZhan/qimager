webpackJsonp([1],{120:function(t,e,n){"use strict";var r=n(50),o=n(68);n.d(e,"a",function(){return a});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return n.i(o.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(o.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(o.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(r.a)},121:function(t,e,n){"use strict";var r=n(1),o=n(94),i=n(171),a=n(43),s=n(50),c=n(68);n.d(e,"a",function(){return h});var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return h})},p=Promise.resolve(null),h=function(t){function e(e,r){t.call(this),this._submitted=!1,this.ngSubmit=new o.a,this.form=new i.d({},n.i(c.a)(e),n.i(c.b)(r))}return u(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;p.then(function(){var r=e._findContainer(t.path);t._control=r.registerControl(t.name,t.control),n.i(c.d)(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;p.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;p.then(function(){var r=e._findContainer(t.path),o=new i.d({});n.i(c.e)(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;p.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;p.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e.decorators=[{type:r.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[l],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},e}(s.a)},122:function(t,e,n){"use strict";var r=n(1),o=n(35),i=n(82);n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var a={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return c}),multi:!0},s=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),c=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(i.a),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t.decorators=[{type:r.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[a]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef},{type:s},{type:r.Injector}]},t.propDecorators={name:[{type:r.Input}],formControlName:[{type:r.Input}],value:[{type:r.Input}]},t}()},123:function(t,e,n){"use strict";var r=n(1),o=n(94),i=n(349),a=n(43),s=n(50),c=n(168),u=n(68);n.d(e,"a",function(){return h});var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return h})},h=function(t){function e(e,n){t.call(this),this._validators=e,this._asyncValidators=n,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new o.a}return l(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return n.i(u.d)(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){i.b.remove(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);n.i(u.e)(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);n.i(u.e)(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var r=t.form.get(e.path);e._control!==r&&(n.i(u.f)(e._control,e),r&&n.i(u.d)(r,e),e._control=r)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=n.i(u.a)(this._validators);this.form.validator=a.c.compose([this.form.validator,t]);var e=n.i(u.b)(this._asyncValidators);this.form.asyncValidator=a.c.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||c.a.missingFormException()},e.decorators=[{type:r.Directive,args:[{selector:"[formGroup]",providers:[p],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},e.propDecorators={form:[{type:r.Input,args:["formGroup"]}],ngSubmit:[{type:r.Output}]},e}(s.a)},124:function(t,e,n){"use strict";function r(t){return!(t instanceof f||t instanceof l.a||t instanceof g)}var o=n(1),i=n(43),a=n(120),s=n(50),c=n(168),u=n(68),l=n(123);n.d(e,"b",function(){return f}),n.d(e,"a",function(){return g});var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h={provide:s.a,useExisting:n.i(o.forwardRef)(function(){return f})},f=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return p(e,t),e.prototype._checkParentType=function(){r(this._parent)&&c.a.groupParentException()},e.decorators=[{type:o.Directive,args:[{selector:"[formGroupName]",providers:[h]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.b]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.a]}]}]},e.propDecorators={name:[{type:o.Input,args:["formGroupName"]}]},e}(a.a),d={provide:s.a,useExisting:n.i(o.forwardRef)(function(){return g})},g=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return p(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return n.i(u.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(u.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(u.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){r(this._parent)&&c.a.arrayParentException()},e.decorators=[{type:o.Directive,args:[{selector:"[formArrayName]",providers:[d]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.b]}]},{type:Array,decorators:[{type:o.Optional},{type:o.Self},{type:o.Inject,args:[i.a]}]}]},e.propDecorators={name:[{type:o.Input,args:["formArrayName"]}]},e}(s.a)},165:function(t,e,n){"use strict";var r=n(1),o=n(35);n.d(e,"a",function(){return a});var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[i]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},166:function(t,e,n){"use strict";var r=n(1),o=n(35);n.d(e,"a",function(){return a});var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},167:function(t,e,n){"use strict";var r=n(1),o=n(43),i=n(120),a=n(50),s=n(121),c=n(347);n.d(e,"a",function(){return p});var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l={provide:a.a,useExisting:n.i(r.forwardRef)(function(){return p})},p=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return u(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof s.a||c.a.modelGroupParentException()},e.decorators=[{type:r.Directive,args:[{selector:"[ngModelGroup]",providers:[l],exportAs:"ngModelGroup"}]}],e.ctorParameters=function(){return[{type:a.a,decorators:[{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.a]}]}]},e.propDecorators={name:[{type:r.Input,args:["ngModelGroup"]}]},e}(i.a)},168:function(t,e,n){"use strict";var r=n(346);n.d(e,"a",function(){return o});var o=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+r.a.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+r.a.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+r.a.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+r.a.formArrayName)},t.disabledAttrWarning=function(){},t}()},169:function(t,e,n){"use strict";function r(t,e){return null==t?""+e:(n.i(a.a)(e)||(e="Object"),(t+": "+e).slice(0,50))}function o(t){return t.split(":")[0]}var i=n(1),a=n(95),s=n(35);n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var c={provide:s.a,useExisting:n.i(i.forwardRef)(function(){return u}),multi:!0},u=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setElementProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=r(e,t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=n,t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,r=Array.from(this._optionMap.keys());e<r.length;e++){var o=r[e];if(n.i(a.b)(this._optionMap.get(o),t))return o}return null},t.prototype._getOptionValue=function(t){var e=o(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t.decorators=[{type:i.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[c]}]}],t.ctorParameters=function(){return[{type:i.Renderer},{type:i.ElementRef}]},t}(),l=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:i.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:u,decorators:[{type:i.Optional},{type:i.Host}]}]},t.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},t}()},170:function(t,e,n){"use strict";function r(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),n.i(a.a)(e)||(e="Object"),(t+": "+e).slice(0,50))}function o(t){return t.split(":")[0]}var i=n(1),a=n(95),s=n(35);n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var c={provide:s.a,useExisting:n.i(i.forwardRef)(function(){return u}),multi:!0},u=(function(){function t(){}t.prototype.item=function(t){}}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=e._getOptionValue(a.value);r.push(s)}else for(var o=n.options,i=0;i<o.length;i++){var a=o.item(i);if(a.selected){var s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,r=Array.from(this._optionMap.keys());e<r.length;e++){var o=r[e];if(n.i(a.b)(this._optionMap.get(o)._value,t))return o}return null},t.prototype._getOptionValue=function(t){var e=o(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t.decorators=[{type:i.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[c]}]}],t.ctorParameters=function(){return[{type:i.Renderer},{type:i.ElementRef}]},t}()),l=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setElementProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:i.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:u,decorators:[{type:i.Optional},{type:i.Host}]}]},t.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]},t}()},171:function(t,e,n){"use strict";function r(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof d?t.controls[e]||null:t instanceof g?t.at(e)||null:null},t))}function o(t){return n.i(l.a)(t)?n.i(s.fromPromise)(t):t}function i(t){return Array.isArray(t)?n.i(c.a)(t):t}function a(t){return Array.isArray(t)?n.i(c.b)(t):t}var s=n(189),c=(n.n(s),n(68)),u=n(94),l=n(351);n.d(e,"a",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d}),n.d(e,"b",function(){return g});var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=i(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=a(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!0,this._parent&&!e&&this._parent.markAsTouched({onlySelf:e})},t.prototype.markAsUntouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!1,this._parent&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;this._status="PENDING",this._parent&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.disable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==r&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r}),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(r)),!1!==r&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._updateTreeValidity=function(t){var e=(void 0===t?{emitEvent:!0}:t).emitEvent;this._forEachChild(function(t){return t._updateTreeValidity({emitEvent:e})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING",this._cancelExistingSubscription();var r=o(this.asyncValidator(this));if(!n.i(l.b)(r))throw new Error("expected the following validator to return Promise or Observable: "+this.asyncValidator+". If you are using FormBuilder; did you forget to brace your validators in an array?");this._asyncValidationSubscription=r.subscribe({next:function(n){return e.setErrors(n,{emitEvent:t})}})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;this._errors=t,this._updateControlsErrors(!1!==n)},t.prototype.get=function(t){return r(this,t,".")},t.prototype.getError=function(t,e){void 0===e&&(e=null);var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new u.a,this._statusChanges=new u.a},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype._updateTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),f=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,i(n),a(r)),this._onChange=[],this._applyFormState(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return p(e,t),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,o=r.onlySelf,i=r.emitEvent,a=r.emitModelToViewChange,s=r.emitViewToModelChange;this._value=t,this._onChange.length&&!1!==a&&this._onChange.forEach(function(t){return t(n._value,!1!==s)}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null);var n=void 0===e?{}:e,r=n.onlySelf,o=n.emitEvent;this._applyFormState(t),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r,emitEvent:o})},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(h),d=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return p(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,o=r.onlySelf,i=r.emitEvent;this._checkAllValuesPresent(t),Object.keys(t).forEach(function(e){n._throwIfControlMissing(e),n.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,o=r.onlySelf,i=r.emitEvent;Object.keys(t).forEach(function(e){n.controls[e]&&n.controls[e].patchValue(t[e],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},e.prototype.reset=function(t,e){void 0===t&&(t={});var n=void 0===e?{}:e,r=n.onlySelf,o=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:r,emitEvent:o}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof f?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(h),g=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return p(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,o=r.onlySelf,i=r.emitEvent;this._checkAllValuesPresent(t),t.forEach(function(t,e){n._throwIfControlMissing(e),n.at(e).setValue(t,{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,o=r.onlySelf,i=r.emitEvent;t.forEach(function(t,e){n.at(e)&&n.at(e).patchValue(t,{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:o,emitEvent:i})},e.prototype.reset=function(t,e){void 0===t&&(t=[]);var n=void 0===e?{}:e,r=n.onlySelf,o=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:r,emitEvent:o}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof f?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(h)},177:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(){this.imager=null,this.imageEffectUrl="",this.imageOriginUrl="",this.curStage=0,this.hasLoaded=!1,this.effectCategory=0,this.loadingShowFlag=!1,this.isProcessing=!1}return t}();e.SharedData=i;var a=function(){function t(){this._sharedData=new i}return t.prototype.getSharedData=function(){return this._sharedData},t}();a=r([o.Injectable()],a),e.SharedService=a},232:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return Object.defineProperty(t.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return void 0===e&&(e=null),this.control?this.control.getError(t,e):null},t}()},233:function(t,e,n){"use strict";var r=n(1),o=n(50),i=n(82);n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),c={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},u=function(t){function e(e){t.call(this,e)}return a(e,t),e.decorators=[{type:r.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:c}]}],e.ctorParameters=function(){return[{type:i.a,decorators:[{type:r.Self}]}]},e}(s),l=function(t){function e(e){t.call(this,e)}return a(e,t),e.decorators=[{type:r.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:c}]}],e.ctorParameters=function(){return[{type:o.a,decorators:[{type:r.Self}]}]},e}(s)},234:function(t,e,n){"use strict";var r=n(1),o=n(94),i=n(171),a=n(43),s=n(120),c=n(50),u=n(35),l=n(82),p=n(121),h=n(167),f=n(68),d=n(347);n.d(e,"a",function(){return v});var g=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},m={provide:l.a,useExisting:n.i(r.forwardRef)(function(){return v})},y=Promise.resolve(null),v=function(t){function e(e,r,a,s){t.call(this),this._control=new i.c,this._registered=!1,this.update=new o.a,this._parent=e,this._rawValidators=r||[],this._rawAsyncValidators=a||[],this.valueAccessor=n.i(f.g)(this,s)}return g(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),n.i(f.h)(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?n.i(f.c)(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(f.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(f.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},e.prototype._setUpStandalone=function(){n.i(f.d)(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof h.a)&&this._parent instanceof s.a?d.a.formGroupNameException():this._parent instanceof h.a||this._parent instanceof p.a||d.a.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||d.a.missingNameException()},e.prototype._updateValue=function(t){var e=this;y.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;y.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e.decorators=[{type:r.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[m],exportAs:"ngModel"}]}],e.ctorParameters=function(){return[{type:c.a,decorators:[{type:r.Optional},{type:r.Host}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[u.a]}]}]},e.propDecorators={name:[{type:r.Input}],isDisabled:[{type:r.Input,args:["disabled"]}],model:[{type:r.Input,args:["ngModel"]}],options:[{type:r.Input,args:["ngModelOptions"]}],update:[{type:r.Output,args:["ngModelChange"]}]},e}(l.a)},235:function(t,e,n){"use strict";var r=n(1),o=n(35);n.d(e,"a",function(){return a});var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},236:function(t,e,n){"use strict";var r=n(1),o=n(35);n.d(e,"a",function(){return a});var i={provide:o.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[i]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},237:function(t,e,n){"use strict";var r=n(1),o=n(94),i=n(43),a=n(35),s=n(82),c=n(168),u=n(68);n.d(e,"a",function(){return h});var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return h})},h=function(t){function e(e,r,i){t.call(this),this.update=new o.a,this._rawValidators=e||[],this._rawAsyncValidators=r||[],this.valueAccessor=n.i(u.g)(this,i)}return l(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){c.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(n.i(u.d)(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),n.i(u.h)(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(u.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(u.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e.decorators=[{type:r.Directive,args:[{selector:"[formControl]",providers:[p],exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},e.propDecorators={form:[{type:r.Input,args:["formControl"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},e}(s.a)},238:function(t,e,n){"use strict";var r=n(1),o=n(94),i=n(43),a=n(120),s=n(50),c=n(35),u=n(82),l=n(168),p=n(68),h=n(123),f=n(124);n.d(e,"a",function(){return m});var d=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},g={provide:u.a,useExisting:n.i(r.forwardRef)(function(){return m})},m=function(t){function e(e,r,i,a){t.call(this),this._added=!1,this.update=new o.a,this._parent=e,this._rawValidators=r||[],this._rawAsyncValidators=i||[],this.valueAccessor=n.i(p.g)(this,a)}return d(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){l.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),n.i(p.h)(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return n.i(p.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(p.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(p.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof f.b)&&this._parent instanceof a.a?l.a.ngModelGroupException():this._parent instanceof f.b||this._parent instanceof h.a||this._parent instanceof f.a||l.a.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e.decorators=[{type:r.Directive,args:[{selector:"[formControlName]",providers:[g]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:r.Optional},{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.a]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[c.a]}]}]},e.propDecorators={name:[{type:r.Input,args:["formControlName"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},e}(u.a)},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(375),o=function(){function t(){this.canvasWidth=300,this.canvasHeight=300,this.width=200,this.height=200,this.minWidth=50,this.minHeight=50,this.minWithRelativeToResolution=!0,this.responsive=!1,this.croppedWidth=100,this.croppedHeight=100,this.cropperDrawSettings=new r.CropperDrawSettings,this.touchRadius=20,this.noFileInput=!1,this.fileType="png",this.allowedFilesRegex=/\.(jpe?g|png|gif)$/i,this.preserveSize=!1,this._rounded=!1,this._keepAspect=!0}return Object.defineProperty(t.prototype,"rounded",{get:function(){return this._rounded},set:function(t){this._rounded=t,t&&(this._keepAspect=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepAspect",{get:function(){return this._keepAspect},set:function(t){if(!1===t&&this._rounded)throw new Error("Cannot set keep aspect to false on rounded cropper. Ellipsis not supported");this._keepAspect=t},enumerable:!0,configurable:!0}),t}();e.CropperSettings=o},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(380),o=function(){function t(e){t._instance=this;for(var n=null,o=0;o<e;o++)if(0===o)this.firstAvailable=new r.Point,n=this.firstAvailable;else{var i=new r.Point;n.next=i,n=i}}return Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.borrow=function(t,e){if(null==this.firstAvailable)throw"Pool exhausted";this.borrowed++;var n=this.firstAvailable;return this.firstAvailable=n.next,n.x=t,n.y=e,n},t.prototype.returnPoint=function(t){this.borrowed--,t.x=0,t.y=0,t.next=this.firstAvailable,this.firstAvailable=t},t}();e.PointPool=o},346:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '}},347:function(t,e,n){"use strict";var r=n(346);n.d(e,"a",function(){return o});var o=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+r.a.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+r.a.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+r.a.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+r.a.ngModelGroup)},t}()},348:function(t,e,n){"use strict";var r=n(1),o=n(43);n.d(e,"e",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"d",function(){return g});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return c}),multi:!0},s={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return u}),multi:!0},c=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?o.c.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.decorators=[{type:r.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[a],host:{"[attr.required]":'required ? "" : null'}}]}],t.ctorParameters=function(){return[]},t.propDecorators={required:[{type:r.Input}]},t}(),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.validate=function(t){return this.required?o.c.requiredTrue(t):null},e.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[s],host:{"[attr.required]":'required ? "" : null'}}]}],e.ctorParameters=function(){return[]},e}(c),l={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return p}),multi:!0},p=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=o.c.minLength(parseInt(this.minlength,10))},t.decorators=[{type:r.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[l],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={minlength:[{type:r.Input}]},t}(),h={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return f}),multi:!0},f=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=o.c.maxLength(parseInt(this.maxlength,10))},t.decorators=[{type:r.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[h],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={maxlength:[{type:r.Input}]},t}(),d={provide:o.b,useExisting:n.i(r.forwardRef)(function(){return g}),multi:!0},g=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=o.c.pattern(this.pattern)},t.decorators=[{type:r.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[d],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={pattern:[{type:r.Input}]},t}()},349:function(t,e,n){"use strict";n(95);n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=t[i]}for(var a=0,s=Object.keys(e);a<s.length;a++){var i=s[a];n[i]=e[i]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(t[i]!==e[i])return!1}return!0},t}(),o=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}()},35:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return o});var o=new r.OpaqueToken("NgValueAccessor")},350:function(t,e,n){"use strict";var r=n(1),o=n(95),i=n(171);n.d(e,"a",function(){return a});var a=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var r=this._reduceControls(t),a=n.i(o.c)(e)?e.validator:null,s=n.i(o.c)(e)?e.asyncValidator:null;return new i.d(r,a,s)},t.prototype.control=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new i.c(t,e,n)},t.prototype.array=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var o=t.map(function(t){return r._createControl(t)});return new i.b(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof i.c||t instanceof i.d||t instanceof i.b)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}()},351:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o=r.__core_private__.isPromise,i=r.__core_private__.isObservable},374:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(566);e.ImageCropperModule=r.ImageCropperModule;var o=n(377);e.ImageCropperComponent=o.ImageCropperComponent;var i=n(376);e.ImageCropper=i.ImageCropper;var a=n(252);e.CropperSettings=a.CropperSettings;var s=n(375);e.CropperDrawSettings=s.CropperDrawSettings;var c=n(378);e.Bounds=c.Bounds},375:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.strokeWidth=1,this.strokeColor="rgba(255,255,255,1)"}return t}();e.CropperDrawSettings=r},376:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(378),i=n(567),a=n(568),s=n(569),c=n(570),u=n(565),l=n(253),p=function(t){function e(e){var n=t.call(this)||this,r=e.width,o=e.height,a=e.keepAspect,c=e.touchRadius,u=e.minWidth,p=e.minHeight,h=e.croppedWidth,f=e.croppedHeight;return n.cropperSettings=e,n.crop=n,n.x=0,n.y=0,void 0===r&&(n.width=100),void 0===o&&(n.height=50),void 0===a&&(n.keepAspect=!0),void 0===c&&(n.touchRadius=20),n.minWidth=u,n.minHeight=p,n.keepAspect=!1,n.aspectRatio=0,n.currentDragTouches=[],n.isMouseDown=!1,n.ratioW=1,n.ratioH=1,n.fileType=e.fileType,n.imageSet=!1,n.pointPool=new l.PointPool(200),n.tl=new i.CornerMarker(0,0,c,n.cropperSettings),n.tr=new i.CornerMarker(0+r,0,c,n.cropperSettings),n.bl=new i.CornerMarker(0,0+o,c,n.cropperSettings),n.br=new i.CornerMarker(0+r,0+o,c,n.cropperSettings),n.tl.addHorizontalNeighbour(n.tr),n.tl.addVerticalNeighbour(n.bl),n.tr.addHorizontalNeighbour(n.tl),n.tr.addVerticalNeighbour(n.br),n.bl.addHorizontalNeighbour(n.br),n.bl.addVerticalNeighbour(n.tl),n.br.addHorizontalNeighbour(n.bl),n.br.addVerticalNeighbour(n.tr),n.markers=[n.tl,n.tr,n.bl,n.br],n.center=new s.DragMarker(0+r/2,0+o/2,c,n.cropperSettings),n.keepAspect=a,n.aspectRatio=o/r,n.croppedImage=new Image,n.currentlyInteracting=!1,n.cropWidth=h,n.cropHeight=f,n}return r(e,t),e.sign=function(t){return+t===t?0===t?t:t>0?1:-1:NaN},e.getMousePos=function(t,e){var n=t.getBoundingClientRect();return l.PointPool.instance.borrow(e.clientX-n.left,e.clientY-n.top)},e.getTouchPos=function(t,e){var n=t.getBoundingClientRect();return l.PointPool.instance.borrow(e.clientX-n.left,e.clientY-n.top)},e.detectVerticalSquash=function(t){var e=t.height,n=document.createElement("canvas");n.width=1,n.height=e;var r=n.getContext("2d");r.drawImage(t,0,0);for(var o=r.getImageData(0,0,1,e).data,i=0,a=e,s=e;s>i;){0===o[4*(s-1)+3]?a=s:i=s,s=a+i>>1}var c=s/e;return 0===c?1:c},e.prototype.getDataUriMimeType=function(t){var e=t.substring(0,50),n="image/png",r=RegExp(/^(data:)([\w\/\+]+);(charset=[\w-]+|base64).*,(.*)/gi),o=r.exec(e);return o&&o[2]&&"image/jpg"==(n=o[2])&&(n="image/jpeg"),n},e.prototype.prepare=function(t){this.buffer=document.createElement("canvas"),this.cropCanvas=document.createElement("canvas");var e=t.parentElement.clientWidth;e>0&&this.cropperSettings.responsive?(this.cropCanvas.width=e,this.buffer.width=e,t.width=e):(this.cropCanvas.width=this.cropWidth,this.buffer.width=t.width),this.cropCanvas.height=this.cropHeight,this.buffer.height=t.height,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.draw(this.ctx)},e.prototype.resizeCanvas=function(t,e){this.canvas.width=t,this.canvas.height=e,this.buffer.width=t,this.buffer.height=e,this.draw(this.ctx)},e.prototype.draw=function(t){var e=this.getBounds();if(this.srcImage){t.clearRect(0,0,this.canvasWidth,this.canvasHeight);var n=this.srcImage.height/this.srcImage.width,r=this.canvasHeight/this.canvasWidth,o=this.canvasWidth,i=this.canvasHeight;r>n?(o=this.canvasWidth,i=this.canvasWidth*n):(i=this.canvasHeight,o=this.canvasHeight/n),this.ratioW=o/this.srcImage.width,this.ratioH=i/this.srcImage.height,r<n?this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,this.buffer.width/2-o/2,0,o,i):this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,0,this.buffer.height/2-i/2,o,i),this.buffer.getContext("2d").drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,this.cropperSettings.rounded?(t.beginPath(),t.arc(e.left+e.width/2,e.top+e.height/2,e.width/2,0,2*Math.PI,!0),t.closePath(),t.stroke()):(t.fillStyle="rgba(0, 0, 0, 0.6)",t.fillRect(0,0,this.canvasWidth,this.canvasHeight),t.drawImage(this.buffer,e.left,e.top,Math.max(e.width,1),Math.max(e.height,1),e.left,e.top,e.width,e.height),t.strokeRect(e.left,e.top,e.width,e.height));for(var a=void 0,s=0;s<this.markers.length;s++)a=this.markers[s],a.draw(t);this.center.draw(t)}else t.fillStyle="rgba(192,192,192,1)",t.fillRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.dragCenter=function(t,e,n){var r=this.getBounds(),o=t-r.width/2,i=t+r.width/2,a=e-r.height/2,s=e+r.height/2;i>=this.maxXClamp&&(t=this.maxXClamp-r.width/2),o<=this.minXClamp&&(t=r.width/2+this.minXClamp),a<this.minYClamp&&(e=r.height/2+this.minYClamp),s>=this.maxYClamp&&(e=this.maxYClamp-r.height/2),this.tl.moveX(t-r.width/2),this.tl.moveY(e-r.height/2),this.tr.moveX(t+r.width/2),this.tr.moveY(e-r.height/2),this.bl.moveX(t-r.width/2),this.bl.moveY(e+r.height/2),this.br.moveX(t+r.width/2),this.br.moveY(e+r.height/2),n.setPosition(t,e)},e.prototype.enforceMinSize=function(t,e,n){var r=t-n.getHorizontalNeighbour().position.x,o=e-n.getVerticalNeighbour().position.y,i=this.minWidth-Math.abs(r),a=this.minHeight-Math.abs(o);return 0===r||0===o?(t=n.position.x,e=n.position.y,l.PointPool.instance.borrow(t,e)):(this.keepAspect?i>0&&a/this.aspectRatio>0?i>a/this.aspectRatio?r<0?(t-=i,o<0?e-=i*this.aspectRatio:e+=i*this.aspectRatio):(t+=i,o<0?e-=i*this.aspectRatio:e+=i*this.aspectRatio):o<0?(e-=a,r<0?t-=a/this.aspectRatio:t+=a/this.aspectRatio):(e+=a,r<0?t-=a/this.aspectRatio:t+=a/this.aspectRatio):i>0?r<0?(t-=i,o<0?e-=i*this.aspectRatio:e+=i*this.aspectRatio):(t+=i,o<0?e-=i*this.aspectRatio:e+=i*this.aspectRatio):a>0&&(o<0?(e-=a,r<0?t-=a/this.aspectRatio:t+=a/this.aspectRatio):(e+=a,r<0?t-=a/this.aspectRatio:t+=a/this.aspectRatio)):(i>0&&(r<0?t-=i:t+=i),a>0&&(o<0?e-=a:e+=a)),(t<this.minXClamp||t>this.maxXClamp||e<this.minYClamp||e>this.maxYClamp)&&(t=n.position.x,e=n.position.y),l.PointPool.instance.borrow(t,e))},e.prototype.dragCorner=function(t,e,n){var r,o=0,i=0,a=0,s=0,c=0,u=0,p=0,h=0,f=0;if(this.keepAspect){if(r=n.getHorizontalNeighbour().getVerticalNeighbour(),a=r.position.x,s=r.position.y,t<=r.position.x){if(e<=r.position.y){if(o=a-100/this.aspectRatio,i=s-100/this.aspectRatio*this.aspectRatio,(f=this.getSide(l.PointPool.instance.borrow(o,i),r.position,l.PointPool.instance.borrow(t,e)))>0){c=Math.abs(r.position.y-e),u=c/this.aspectRatio,p=r.position.y-c,h=r.position.x-u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}else if(f<0){u=Math.abs(r.position.x-t),c=u*this.aspectRatio,p=r.position.y-c,h=r.position.x-u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}}else if(o=a-100/this.aspectRatio,i=s+100/this.aspectRatio*this.aspectRatio,(f=this.getSide(l.PointPool.instance.borrow(o,i),r.position,l.PointPool.instance.borrow(t,e)))>0){u=Math.abs(r.position.x-t),c=u*this.aspectRatio,p=r.position.y+c,h=r.position.x-u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}else if(f<0){c=Math.abs(r.position.y-e),u=c/this.aspectRatio,p=r.position.y+c,h=r.position.x-u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}}else if(e<=r.position.y){if(o=a+100/this.aspectRatio,i=s-100/this.aspectRatio*this.aspectRatio,(f=this.getSide(l.PointPool.instance.borrow(o,i),r.position,l.PointPool.instance.borrow(t,e)))<0){c=Math.abs(r.position.y-e),u=c/this.aspectRatio,p=r.position.y-c,h=r.position.x+u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}else if(f>0){u=Math.abs(r.position.x-t),c=u*this.aspectRatio,p=r.position.y-c,h=r.position.x+u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}}else if(o=a+100/this.aspectRatio,i=s+100/this.aspectRatio*this.aspectRatio,(f=this.getSide(l.PointPool.instance.borrow(o,i),r.position,l.PointPool.instance.borrow(t,e)))<0){u=Math.abs(r.position.x-t),c=u*this.aspectRatio,p=r.position.y+c,h=r.position.x+u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}else if(f>0){c=Math.abs(r.position.y-e),u=c/this.aspectRatio,p=r.position.y+c,h=r.position.x+u;var d=this.enforceMinSize(h,p,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}}else{var d=this.enforceMinSize(t,e,n);n.move(d.x,d.y),l.PointPool.instance.returnPoint(d)}this.center.recalculatePosition(this.getBounds())},e.prototype.getSide=function(t,n,r){var o=e.sign((n.x-t.x)*(r.y-t.y)-(n.y-t.y)*(r.x-t.x));return l.PointPool.instance.returnPoint(t),l.PointPool.instance.returnPoint(r),o},e.prototype.handleRelease=function(t){if(null!=t){for(var e=0,n=0;n<this.currentDragTouches.length;n++)t.id===this.currentDragTouches[n].id&&(this.currentDragTouches[n].dragHandle.setDrag(!1),t.dragHandle=null,e=n);this.currentDragTouches.splice(e,1),this.draw(this.ctx)}},e.prototype.handleMove=function(t){for(var e=!1,n=0;n<this.currentDragTouches.length;n++)if(t.id===this.currentDragTouches[n].id&&null!=this.currentDragTouches[n].dragHandle){var r=this.currentDragTouches[n],o=this.clampPosition(t.x-r.dragHandle.offset.x,t.y-r.dragHandle.offset.y);t.x=o.x,t.y=o.y,l.PointPool.instance.returnPoint(o),r.dragHandle instanceof i.CornerMarker?this.dragCorner(t.x,t.y,r.dragHandle):this.dragCenter(t.x,t.y,r.dragHandle),this.currentlyInteracting=!0,e=!0,u.ImageCropperDataShare.setPressed(this.canvas);break}if(!e){for(var a=0;a<this.markers.length;a++){var s=this.markers[a];if(s.touchInBounds(t.x,t.y)){t.dragHandle=s,this.currentDragTouches.push(t),s.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCorner(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle);break}}null!==t.dragHandle&&void 0!==t.dragHandle||this.center.touchInBounds(t.x,t.y)&&(t.dragHandle=this.center,this.currentDragTouches.push(t),t.dragHandle.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCenter(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle))}},e.prototype.updateClampBounds=function(){var t=this.srcImage.height/this.srcImage.width,e=this.canvas.height/this.canvas.width,n=this.canvas.width,r=this.canvas.height;e>t?(n=this.canvas.width,r=this.canvas.width*t):(r=this.canvas.height,n=this.canvas.height/t),this.minXClamp=this.canvas.width/2-n/2,this.minYClamp=this.canvas.height/2-r/2,this.maxXClamp=this.canvas.width/2+n/2,this.maxYClamp=this.canvas.height/2+r/2},e.prototype.getCropBounds=function(){var t=this.getBounds();return t.top=Math.round((t.top+this.minYClamp)/this.ratioH),t.bottom=Math.round((t.bottom+this.minYClamp)/this.ratioH),t.left=Math.round((t.left-this.minXClamp)/this.ratioW),t.right=Math.round((t.right-this.minXClamp)/this.ratioW),t},e.prototype.clampPosition=function(t,e){return t<this.minXClamp&&(t=this.minXClamp),t>this.maxXClamp&&(t=this.maxXClamp),e<this.minYClamp&&(e=this.minYClamp),e>this.maxYClamp&&(e=this.maxYClamp),l.PointPool.instance.borrow(t,e)},e.prototype.isImageSet=function(){return this.imageSet},e.prototype.setImage=function(t){if(!t)throw"Image is null";this.srcImage=t,this.imageSet=!0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.buffer.getContext("2d").clearRect(0,0,this.buffer.width,this.buffer.height),this.fileType=this.getDataUriMimeType(t.src),this.cropperSettings.minWithRelativeToResolution&&(this.minWidth=this.canvas.width*this.minWidth/this.srcImage.width,this.minHeight=this.canvas.height*this.minHeight/this.srcImage.height),this.updateClampBounds();var n=this.srcImage.height/this.srcImage.width,r=this.getBounds(),o=r.height/r.width,i=this.canvas.width,a=this.canvas.height;this.canvasWidth=i,this.canvasHeight=a;var s=this.canvas.width/2,c=this.canvas.height/2,u=l.PointPool.instance.borrow(s-r.width/2,c+r.height/2),p=l.PointPool.instance.borrow(s+r.width/2,c+r.height/2),h=l.PointPool.instance.borrow(s-r.width/2,c-r.height/2),f=l.PointPool.instance.borrow(s+r.width/2,c-r.height/2);if(this.tl.setPosition(u.x,u.y),this.tr.setPosition(p.x,p.y),this.bl.setPosition(h.x,h.y),this.br.setPosition(f.x,f.y),l.PointPool.instance.returnPoint(u),l.PointPool.instance.returnPoint(p),l.PointPool.instance.returnPoint(h),l.PointPool.instance.returnPoint(f),this.center.setPosition(s,c),o>n){var d=Math.min(i*n,a),g=d/o;u=l.PointPool.instance.borrow(s-g/2,c+d/2),p=l.PointPool.instance.borrow(s+g/2,c+d/2),h=l.PointPool.instance.borrow(s-g/2,c-d/2),f=l.PointPool.instance.borrow(s+g/2,c-d/2)}else{var m=Math.min(a/n,i),y=m*o;u=l.PointPool.instance.borrow(s-m/2,c+y/2),p=l.PointPool.instance.borrow(s+m/2,c+y/2),h=l.PointPool.instance.borrow(s-m/2,c-y/2),f=l.PointPool.instance.borrow(s+m/2,c-y/2)}this.tl.setPosition(u.x,u.y),this.tr.setPosition(p.x,p.y),this.bl.setPosition(h.x,h.y),this.br.setPosition(f.x,f.y),l.PointPool.instance.returnPoint(u),l.PointPool.instance.returnPoint(p),l.PointPool.instance.returnPoint(h),l.PointPool.instance.returnPoint(f),this.vertSquashRatio=e.detectVerticalSquash(this.srcImage),this.draw(this.ctx),this.croppedImage=this.getCroppedImage(this.cropWidth,this.cropHeight)},e.prototype.getCroppedImage=function(t,e){var n=this.getBounds();if(!this.srcImage)throw"Source image not set.";var r=this.srcImage.height/this.srcImage.width,o=this.canvas.height/this.canvas.width,i=this.canvas.width,a=this.canvas.height;o>r?(i=this.canvas.width,a=this.canvas.width*r):o<r?(a=this.canvas.height,i=this.canvas.height/r):(a=this.canvas.height,i=this.canvas.width),this.ratioW=i/this.srcImage.width,this.ratioH=a/this.srcImage.height;var s=(this.buffer.height-a)/2/this.ratioH,c=(this.buffer.width-i)/2/this.ratioW,u=this.cropCanvas.getContext("2d");if(this.cropperSettings.preserveSize){var l=Math.max(Math.round(n.right/this.ratioW-c),0)*this.srcImage.width/this.canvas.width,p=Math.max(Math.round(n.bottom/this.ratioH-s),0)*this.srcImage.height/this.canvas.height;this.cropCanvas.width=l,this.cropCanvas.height=p,this.cropperSettings.croppedWidth=this.cropCanvas.width,this.cropperSettings.croppedHeight=this.cropCanvas.height}return u.clearRect(0,0,this.cropCanvas.width,this.cropCanvas.height),this.drawImageIOSFix(u,this.srcImage,Math.max(Math.round(n.left/this.ratioW-c),0),Math.max(Math.round(n.top/this.ratioH-s),0),Math.max(Math.round(n.width/this.ratioW),1),Math.max(Math.round(n.height/this.ratioH),1),0,0,this.cropCanvas.width,this.cropCanvas.height),this.croppedImage.width=this.cropCanvas.width,this.croppedImage.height=this.cropCanvas.height,this.croppedImage.src=this.cropCanvas.toDataURL(this.fileType),this.croppedImage},e.prototype.getBounds=function(){for(var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=-Number.MAX_VALUE,r=-Number.MAX_VALUE,i=0;i<this.markers.length;i++){var a=this.markers[i];a.position.x<t&&(t=a.position.x),a.position.x>n&&(n=a.position.x),a.position.y<e&&(e=a.position.y),a.position.y>r&&(r=a.position.y)}var s=new o.Bounds;return s.left=t,s.right=n,s.top=e,s.bottom=r,s},e.prototype.setBounds=function(t){for(var e,n,r,o,i=this.getBounds(),a=0;a<this.markers.length;a++){var s=this.markers[a];s.position.x===i.left?s.position.y===i.top?e=s:r=s:s.position.y===i.top?n=s:o=s}e.setPosition(t.left,t.top),n.setPosition(t.right,t.top),r.setPosition(t.left,t.bottom),o.setPosition(t.right,t.bottom),this.center.recalculatePosition(t),this.center.draw(this.ctx)},e.prototype.onTouchMove=function(t){if(this.crop.isImageSet()){if(t.preventDefault(),1===t.touches.length)for(var n=0;n<t.touches.length;n++){var r=t.touches[n],o=e.getTouchPos(this.canvas,r),i=new a.CropTouch(o.x,o.y,r.identifier);l.PointPool.instance.returnPoint(o),this.move(i)}else if(2===t.touches.length){var s=(t.touches[0].clientX-t.touches[1].clientX)*(t.touches[0].clientX-t.touches[1].clientX)+(t.touches[0].clientY-t.touches[1].clientY)*(t.touches[0].clientY-t.touches[1].clientY);if(this.previousDistance&&this.previousDistance!==s){var c=s<this.previousDistance?1:-1,u=this.getBounds();u.top+=c,u.left+=c,u.right-=c,u.bottom-=c,this.setBounds(u)}this.previousDistance=s}this.draw(this.ctx)}},e.prototype.onMouseMove=function(t){if(this.crop.isImageSet()&&this.isMouseDown){var n=e.getMousePos(this.canvas,t);this.move(new a.CropTouch(n.x,n.y,0));var r=this.getDragTouchForID(0);r?(r.x=n.x,r.y=n.y):r=new a.CropTouch(n.x,n.y,0),l.PointPool.instance.returnPoint(n),this.drawCursors(r),this.draw(this.ctx)}},e.prototype.move=function(t){this.isMouseDown&&this.handleMove(t)},e.prototype.getDragTouchForID=function(t){for(var e,n=0;n<this.currentDragTouches.length;n++)t===this.currentDragTouches[n].id&&(e=this.currentDragTouches[n]);return e},e.prototype.drawCursors=function(t){var e=!1;null!=t&&(t.dragHandle===this.center&&(u.ImageCropperDataShare.setStyle(this.canvas,"move"),e=!0),null!==t.dragHandle&&t.dragHandle instanceof i.CornerMarker&&(this.drawCornerCursor(t.dragHandle,t.dragHandle.position.x,t.dragHandle.position.y),e=!0));var n=!1;if(!e){for(var r=0;r<this.markers.length;r++)n=n||this.drawCornerCursor(this.markers[r],t.x,t.y);n||u.ImageCropperDataShare.setStyle(this.canvas,"initial")}n||e||!this.center.touchInBounds(t.x,t.y)?this.center.setOver(!1):(this.center.setOver(!0),u.ImageCropperDataShare.setOver(this.canvas),u.ImageCropperDataShare.setStyle(this.canvas,"move"))},e.prototype.drawCornerCursor=function(t,e,n){return t.touchInBounds(e,n)?(t.setOver(!0),t.getHorizontalNeighbour().position.x>t.position.x?t.getVerticalNeighbour().position.y>t.position.y?(u.ImageCropperDataShare.setOver(this.canvas),u.ImageCropperDataShare.setStyle(this.canvas,"nwse-resize")):(u.ImageCropperDataShare.setOver(this.canvas),u.ImageCropperDataShare.setStyle(this.canvas,"nesw-resize")):t.getVerticalNeighbour().position.y>t.position.y?(u.ImageCropperDataShare.setOver(this.canvas),u.ImageCropperDataShare.setStyle(this.canvas,"nesw-resize")):(u.ImageCropperDataShare.setOver(this.canvas),u.ImageCropperDataShare.setStyle(this.canvas,"nwse-resize")),!0):(t.setOver(!1),!1)},e.prototype.onTouchStart=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onTouchEnd=function(t){if(this.crop.isImageSet()){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=this.getDragTouchForID(n.identifier);r&&null!==r&&((r.dragHandle instanceof i.CornerMarker||r.dragHandle instanceof s.DragMarker)&&r.dragHandle.setOver(!1),this.handleRelease(r))}0===this.currentDragTouches.length&&(this.isMouseDown=!1,this.currentlyInteracting=!1)}},e.prototype.drawImageIOSFix=function(t,e,n,r,o,i,a,s,c,u){t.drawImage(e,n,r,o,i,a,s,c,u)},e.prototype.onMouseDown=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onMouseUp=function(t){this.crop.isImageSet()&&(u.ImageCropperDataShare.setReleased(this.canvas),this.isMouseDown=!1,this.handleRelease(new a.CropTouch(0,0,0)))},e}(c.ImageCropperModel);e.ImageCropper=p},377:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(376),s=n(252),c=n(564),u=function(){function t(t){this.onCrop=new i.EventEmitter,this.renderer=t}return t.prototype.ngAfterViewInit=function(){var t=this.cropcanvas.nativeElement;this.settings||(this.settings=new s.CropperSettings),this.renderer.setElementAttribute(t,"width",this.settings.canvasWidth.toString()),this.renderer.setElementAttribute(t,"height",this.settings.canvasHeight.toString()),this.cropper||(this.cropper=new a.ImageCropper(this.settings)),this.cropper.prepare(t)},t.prototype.onTouchMove=function(t){this.cropper.onTouchMove(t)},t.prototype.onTouchStart=function(t){this.cropper.onTouchStart(t)},t.prototype.onTouchEnd=function(t){this.cropper.onTouchEnd(t),this.cropper.isImageSet()&&(this.image.image=this.cropper.getCroppedImage().src,this.onCrop.emit(this.cropper.getCropBounds()))},t.prototype.onMouseDown=function(t){this.cropper.onMouseDown(t)},t.prototype.onMouseUp=function(t){this.cropper.isImageSet()&&(this.cropper.onMouseUp(t),this.image.image=this.cropper.getCroppedImage().src,this.onCrop.emit(this.cropper.getCropBounds()))},t.prototype.onMouseMove=function(t){this.cropper.onMouseMove(t)},t.prototype.fileChangeListener=function(t){var e=t.target.files[0];if(this.settings.allowedFilesRegex.test(e.name)){var n=new Image,r=new FileReader,o=this;r.addEventListener("loadend",function(t){n.src=t.target.result,o.setImage(n)}),r.readAsDataURL(e)}},t.prototype.setImage=function(t){var e=this;this.intervalRef=window.setInterval(function(){e.intervalRef&&clearInterval(e.intervalRef),t.naturalHeight>0&&(t.height=t.naturalHeight,t.width=t.naturalWidth,clearInterval(e.intervalRef),e.getOrientedImage(t,function(t){e.cropper.setImage(t),e.image.original=t;var n=e.cropper.getCropBounds();e.image.image=e.cropper.getCroppedImage().src,e.onCrop.emit(n)}))},10)},t.prototype.getOrientedImage=function(t,e){var n;c.Exif.getData(t,function(){var r=c.Exif.getTag(t,"Orientation");if([3,6,8].indexOf(r)>-1){var o=document.createElement("canvas"),i=o.getContext("2d"),a=t.width,s=t.height,u=0,l=0,p=0;switch(r){case 3:u=-t.width,l=-t.height,p=180;break;case 6:a=t.height,s=t.width,l=-t.height,p=90;break;case 8:a=t.height,s=t.width,u=-t.width,p=270}o.width=a,o.height=s,i.rotate(p*Math.PI/180),i.drawImage(t,u,l),n=document.createElement("img"),n.width=a,n.height=s,n.src=o.toDataURL("image/png")}else n=t;e(n)})},t}();r([i.ViewChild("cropcanvas",void 0),o("design:type",i.ElementRef)],u.prototype,"cropcanvas",void 0),r([i.Input(),o("design:type",s.CropperSettings)],u.prototype,"settings",void 0),r([i.Input(),o("design:type",Object)],u.prototype,"image",void 0),r([i.Input(),o("design:type",a.ImageCropper)],u.prototype,"cropper",void 0),r([i.Output(),o("design:type",i.EventEmitter)],u.prototype,"onCrop",void 0),u=r([i.Component({selector:"img-cropper",template:'\n        <span class="ng2-imgcrop">\n          <input *ngIf="!settings.noFileInput" type="file" (change)="fileChangeListener($event)" >\n          <canvas #cropcanvas\n                  (mousedown)="onMouseDown($event)"\n                  (mouseup)="onMouseUp($event)"\n                  (mousemove)="onMouseMove($event)"\n                  (mouseleave)="onMouseUp($event)"\n                  (touchmove)="onTouchMove($event)"\n                  (touchend)="onTouchEnd($event)"\n                  (touchstart)="onTouchStart($event)">\n          </canvas>\n        </span>\n      '}),o("design:paramtypes",[i.Renderer])],u),e.ImageCropperComponent=u},378:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(253),o=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.left=t,this.right=t+n,this.top=e,this.bottom=e+r}return Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),t.prototype.getCentre=function(){var t=this.width,e=this.height;return r.PointPool.instance.borrow(this.left+t/2,this.top+e/2)},t}();e.Bounds=o},379:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(380),o=n(252),i=function(){function t(t,e,n,i){this.cropperSettings=new o.CropperSettings,this.over=!1,this.drag=!1,this._position=new r.Point(t,e),this.offset=new r.Point(0,0),this.radius=n,this.cropperSettings=i}return t.prototype.setDrag=function(t){this.drag=t,this.setOver(t)},t.prototype.draw=function(t){},t.prototype.setOver=function(t){this.over=t},t.prototype.touchInBounds=function(t,e){return t>this.position.x-this.radius+this.offset.x&&t<this.position.x+this.radius+this.offset.x&&e>this.position.y-this.radius+this.offset.y&&e<this.position.y+this.radius+this.offset.y},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t,e){this._position.x=t,this._position.y=e},t}();e.Handle=i},380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t.prototype,"next",{get:function(){return this._next},set:function(t){this._next=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return this._prev},set:function(t){this._prev=t},enumerable:!0,configurable:!0}),t}();e.Point=r},381:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(288);var r=n(577);e.STATUS={SUCESS:0,FAIL:-1,ERROR:-2,UNKNOWN:-9},e.EFFECT_CATEGORIES={PS:0,ACT:1},e.EFFECTS_ACT={brightness:"亮度",setHSI:"色相/饱和度调节",curve:"曲线",toGray:"灰度处理",toThresh:"灰度阈值",toReverse:"反色",gaussBlur:"高斯模糊",sharp:"锐化",mosaic:"马赛克",embossment:"浮雕效果",corrode:"腐蚀",noise:"添加杂色",darkCorner:"暗角",dotted:"喷点",origin:"原图"},e.EFFECTS_PS={origin:"原图",softenFace:"美肤",sketch:"素描",softEnhancement:"自然增强",purpleStyle:"紫调",soften:"柔焦",vintage:"复古",gray:"黑白",lomo:"仿lomo",strongEnhancement:"亮白增强",strongGray:"灰白",lightGray:"灰色",warmAutumn:"暖秋",carveStyle:"木雕",rough:"粗糙"},e.EFFECT_ORIGIN="origin";var o=20,i=function(){function t(t){void 0===t&&(t={}),this._doms={img:HTMLImageElement},this._originLayer=null,this._layer=null,this._stack=null,this._curPSEffect="",this._curActEffect="",this._doms.img=t.img,this._stack=new r.Stack({size:o})}return t.prototype.init=function(){this._initLayer()},t.prototype._initLayer=function(){var t=this;return new Promise(function(n,r){var o=t._doms.img||null;o?o.loadOnce(function(){try{t._originLayer=$AI(o),t._layer=$AI(o),n({status:e.STATUS.SUCESS,data:{dataUrl:o.src}})}catch(t){n({status:e.STATUS.ERROR,data:t})}}):n({status:e.STATUS.FAIL,msg:"Lack of image document object model!"})})},t.prototype.reset=function(){var t=this;return this._initLayer().then(function(n){return n.status===e.STATUS.SUCESS&&(t._stack.reset(),t._stack.push(n.data.dataUrl)),n})},t.prototype.act=function(t){var n=this;return void 0===t&&(t={}),new Promise(function(r,o){var i=t.effect||"",a=t.params||[],s=n._doms.img;if(i=n.getValidActEffect(i),n._layer=$AI(s),n.getValidActEffect(i)&&n._layer)if(i===e.EFFECT_ORIGIN)n._originLayer.clone().replace(s).complete(function(){n._stack.push(s.src),r({status:e.STATUS.SUCESS,data:{dataUrl:s.src}})});else{a.unshift(i);try{var c=n._layer,u=n._layer;c.add(u.act.apply(u,a)).replace(s).complete(function(){n._stack.push(s.src),r({status:e.STATUS.SUCESS,data:{dataUrl:s.src}})})}catch(t){r({status:e.STATUS.ERROR,msg:"ERROR!",data:t})}}else r({status:e.STATUS.FAIL,msg:"Lack of params!"})})},t.prototype.getValidPSEffect=function(t){if(void 0===t&&(t=""),!t)return"";for(var n in e.EFFECTS_PS)if(n===t||e.EFFECTS_PS[n]===t)return n},t.prototype.ps=function(t){var n=this;return void 0===t&&(t={}),new Promise(function(r,o){var i=t.effect||"";i=n.getValidPSEffect(i);var a=n._doms.img;if(n._layer=$AI(a),n._layer&&a&&i)try{n._curPSEffect&&n._curPSEffect===i?r({status:e.STATUS.SUCESS,data:{dataUrl:a.src}}):i===e.EFFECT_ORIGIN?n._originLayer.clone().replace(a).complete(function(){n._stack.push(a.src),r({status:e.STATUS.SUCESS,data:{dataUrl:a.src}})}):n._layer.ps(i).replace(a).complete(function(){n._stack.push(a.src),r({status:e.STATUS.SUCESS,data:{dataUrl:a.src}})}),n._curPSEffect=i}catch(t){r({status:e.STATUS.ERROR,data:t})}else r({status:e.STATUS.FAIL,msg:"Lack of params!"})})},t.prototype.undo=function(t){if(void 0===t&&(t=null),this._layer){t.effectCategory,this._doms.img;return Promise.resolve({status:e.STATUS.SUCESS,data:{dataUrl:this._stack.load(r.FLAGS_STACK.BOTTOM)}})}return Promise.resolve({status:e.STATUS.FAIL})},t.prototype.redo=function(t){return void 0===t&&(t=null),this._layer?Promise.resolve({status:e.STATUS.SUCESS,data:{dataUrl:this._stack.load(r.FLAGS_STACK.TOP)}}):Promise.resolve({status:e.STATUS.FAIL})},t.prototype.renew=function(){if(this._layer){var t={effect:e.EFFECT_ORIGIN};return this.ps(t)}return Promise.resolve({status:e.STATUS.FAIL})},t.prototype.getValidActEffect=function(t){if(void 0===t&&(t=""),t)for(var n in e.EFFECTS_ACT)if(t===n||t===e.EFFECTS_ACT[n])return n;return""},t.prototype.clip=function(t,n,r,o){var i=this;return new Promise(function(a,s){if(i._layer){var c=i._doms.img;try{i._layer=$AI(c),i._layer.clip(t,n,r,o).replace(c).complete(function(){i._stack.push(c.src),a({status:e.STATUS.SUCESS,data:{dataUrl:c.src}})})}catch(t){a({status:e.STATUS.ERROR,data:t})}}else a({status:e.STATUS.FAIL,msg:"Lack of layer!"})})},t.prototype.rotate=function(t){this._layer},t.prototype.scale=function(t,e){this._layer},t.prototype.transform=function(t){var n=this;return new Promise(function(r,o){var i=n._doms.img;if(n._layer=$AI(i),n._layer)try{n._layer.transform(t).replace(i).complete(function(){n._stack.push(i.src),r({status:e.STATUS.SUCESS,data:{dataUrl:i.src}})})}catch(t){r({status:e.STATUS.ERROR,data:t})}else r({status:e.STATUS.FAIL,msg:"Lack of layer!"})})},t.prototype.loadImageFile=function(t){void 0===t&&(t=null);var n=new FileReader,r=this;return new Promise(function(o,i){n.readAsDataURL(t),n.onload=function(){r._doms.img.src=this.result,o({status:e.STATUS.SUCESS})}})},t.prototype.getImageDimension=function(t){return new Promise(function(n,r){var o=0,i=0;if(t&&t.src){var a=new Image;a.onload=function(){o=a.naturalWidth,i=a.naturalHeight,n({status:e.STATUS.SUCESS,data:{width:o,height:i}})},a.src=t.src}else n({status:e.STATUS.FAIL,msg:"Lack of Image Element!"})})},t}();e.Imager=i},43:function(t,e,n){"use strict";function r(t){return null==t||0===t.length}function o(t){return n.i(h.a)(t)?t:u.toPromise.call(t)}function i(t,e){return e.map(function(e){return e(t)})}function a(t,e){return e.map(function(e){return e(t)})}function s(t){var e=t.reduce(function(t,e){return n.i(p.c)(e)?l.a.merge(t,e):t},{});return 0===Object.keys(e).length?null:e}var c=n(1),u=n(428),l=(n.n(u),n(349)),p=n(95),h=n(351);n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"c",function(){return g});var f=new c.OpaqueToken("NgValidators"),d=new c.OpaqueToken("NgAsyncValidators"),g=function(){function t(){}return t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,o;return"string"==typeof e?(o="^"+e+"$",n=new RegExp(o)):(o=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:o,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(p.c);return 0==e.length?null:function(t){return s(i(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(p.c);return 0==e.length?null:function(t){var n=a(t,e).map(o);return Promise.all(n).then(s)}},t}()},445:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(107),a=n(526),s=n(374),c=n(573),u=n(575),l=n(574),p=n(572),h=n(576),f=n(177),d=function(){function t(){}return t}();d=r([o.NgModule({imports:[i.BrowserModule,a.FormsModule],providers:[f.SharedService],declarations:[c.AppComponent,u.HeaderAreaComponent,l.EffectAreaComponent,p.ActItemComponent,h.StageAreaComponent,s.ImageCropperComponent],bootstrap:[c.AppComponent]})],d),e.AppModule=d},50:function(t,e,n){"use strict";var r=n(232);n.d(e,"a",function(){return i});var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return o(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(r.a)},526:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(530);n.d(e,"AbstractControlDirective",function(){return r.a}),n.d(e,"AbstractFormGroupDirective",function(){return r.b}),n.d(e,"CheckboxControlValueAccessor",function(){return r.c}),n.d(e,"ControlContainer",function(){return r.d}),n.d(e,"NG_VALUE_ACCESSOR",function(){return r.e}),n.d(e,"DefaultValueAccessor",function(){return r.f}),n.d(e,"NgControl",function(){return r.g}),n.d(e,"NgControlStatus",function(){return r.h}),n.d(e,"NgControlStatusGroup",function(){return r.i}),n.d(e,"NgForm",function(){return r.j}),n.d(e,"NgModel",function(){return r.k}),n.d(e,"NgModelGroup",function(){return r.l}),n.d(e,"RadioControlValueAccessor",function(){return r.m}),n.d(e,"FormControlDirective",function(){return r.n}),n.d(e,"FormControlName",function(){return r.o}),n.d(e,"FormGroupDirective",function(){return r.p}),n.d(e,"FormArrayName",function(){return r.q}),n.d(e,"FormGroupName",function(){return r.r}),n.d(e,"NgSelectOption",function(){return r.s}),n.d(e,"SelectControlValueAccessor",function(){return r.t}),n.d(e,"SelectMultipleControlValueAccessor",function(){return r.u}),n.d(e,"CheckboxRequiredValidator",function(){return r.v}),n.d(e,"MaxLengthValidator",function(){return r.w}),n.d(e,"MinLengthValidator",function(){return r.x}),n.d(e,"PatternValidator",function(){return r.y}),n.d(e,"RequiredValidator",function(){return r.z}),n.d(e,"FormBuilder",function(){return r.A}),n.d(e,"AbstractControl",function(){return r.B}),n.d(e,"FormArray",function(){return r.C}),n.d(e,"FormControl",function(){return r.D}),n.d(e,"FormGroup",function(){return r.E}),n.d(e,"NG_ASYNC_VALIDATORS",function(){return r.F}),n.d(e,"NG_VALIDATORS",function(){return r.G}),n.d(e,"Validators",function(){return r.H}),n.d(e,"VERSION",function(){return r.I}),n.d(e,"FormsModule",function(){return r.J}),n.d(e,"ReactiveFormsModule",function(){return r.K})},527:function(t,e,n){"use strict";var r=n(1),o=n(165),i=n(166),a=n(233),s=n(121),c=n(234),u=n(167),l=n(235),p=n(122),h=n(236),f=n(237),d=n(238),g=n(123),m=n(124),y=n(169),v=n(170),b=n(348);n(82);n.d(e,"a",function(){return C}),n.d(e,"c",function(){return P}),n.d(e,"b",function(){return S});var _=[y.a,v.b,i.a,l.a,h.a,o.a,y.b,v.a,p.a,a.a,a.b,b.e,b.c,b.b,b.d,b.a],C=[c.a,u.a,s.a],P=[f.a,g.a,d.a,m.b,m.a],S=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:_,exports:_}]}],t.ctorParameters=function(){return[]},t}()},528:function(t,e,n){"use strict";function r(t){return t.validate?function(e){return t.validate(e)}:t}function o(t){return t.validate?function(e){return t.validate(e)}:t}e.a=r,e.b=o},529:function(t,e,n){"use strict";var r=n(1),o=n(527),i=n(122),a=n(350);n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var s=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:o.a,providers:[i.b],exports:[o.b,o.a]}]}],t.ctorParameters=function(){return[]},t}(),c=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[o.c],providers:[a.a,i.b],exports:[o.b,o.c]}]}],t.ctorParameters=function(){return[]},t}()},530:function(t,e,n){"use strict";var r=n(232);n.d(e,"a",function(){return r.a});var o=n(120);n.d(e,"b",function(){return o.a});var i=n(165);n.d(e,"c",function(){return i.a});var a=n(50);n.d(e,"d",function(){return a.a});var s=n(35);n.d(e,"e",function(){return s.a});var c=n(166);n.d(e,"f",function(){return c.a});var u=n(82);n.d(e,"g",function(){return u.a});var l=n(233);n.d(e,"h",function(){return l.a}),n.d(e,"i",function(){return l.b});var p=n(121);n.d(e,"j",function(){return p.a});var h=n(234);n.d(e,"k",function(){return h.a});var f=n(167);n.d(e,"l",function(){return f.a});var d=n(122);n.d(e,"m",function(){return d.a});var g=n(237);n.d(e,"n",function(){return g.a});var m=n(238);n.d(e,"o",function(){return m.a});var y=n(123);n.d(e,"p",function(){return y.a});var v=n(124);n.d(e,"q",function(){return v.a}),n.d(e,"r",function(){return v.b});var b=n(169);n.d(e,"s",function(){return b.a}),n.d(e,"t",function(){return b.b});var _=n(170);n.d(e,"u",function(){return _.a});var C=n(348);n.d(e,"v",function(){return C.a}),n.d(e,"w",function(){return C.b}),n.d(e,"x",function(){return C.c}),n.d(e,"y",function(){return C.d}),n.d(e,"z",function(){return C.e});var P=n(350);n.d(e,"A",function(){return P.a});var S=n(171);n.d(e,"B",function(){return S.a}),n.d(e,"C",function(){return S.b}),n.d(e,"D",function(){return S.c}),n.d(e,"E",function(){return S.d});var w=n(43);n.d(e,"F",function(){return w.a}),n.d(e,"G",function(){return w.b}),n.d(e,"H",function(){return w.c});var E=n(531);n.d(e,"I",function(){return E.a});var O=n(529);n.d(e,"J",function(){return O.a}),n.d(e,"K",function(){return O.b})},531:function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return o});var o=new r.Version("2.4.10")},564:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Number);e.Fraction=o;var i=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.debug},t}();e.Debug=i;var a=function(){function t(){}return t.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},t.imageHasData=function(t){return!!t.exifdata},t.base64ToArrayBuffer=function(t,e){e=e||t.match(/^data:([^;]+);base64,/im)[1]||"",t=t.replace(/^data:([^;]+);base64,/gim,"");for(var n=atob(t),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o},t.objectURLToBlob=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200!==n.status&&0!==n.status||e(n.response)},n.send()},t.getImageData=function(e,n){function r(r){var o=t.findEXIFinJPEG(r),i=t.findIPTCinJPEG(r);e.exifdata=o||{},e.iptcdata=i||{},n&&n.call(e)}if("src"in e&&e.src)if(/^data:/i.test(e.src)){var o=t.base64ToArrayBuffer(e.src);r(o)}else if(/^blob:/i.test(e.src)){var a=new FileReader;a.onload=function(t){r(t.target.result)},t.objectURLToBlob(e.src,function(t){a.readAsArrayBuffer(t)})}else{var s=new XMLHttpRequest;s.onload=function(){if(200!==s.status&&0!==s.status)throw"Could not load image";r(s.response),s=null},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else if(FileReader&&(e instanceof Blob||e instanceof File)){var c=new FileReader;c.onload=function(t){i.log("Got file of length "+t.target.result.byteLength),r(t.target.result)},c.readAsArrayBuffer(e)}},t.findEXIFinJPEG=function(e){var n=new DataView(e);if(i.log("Got file of length "+e.byteLength),255!==n.getUint8(0)||216!==n.getUint8(1))return i.log("Not a valid JPEG"),!1;for(var r,o=2,a=e.byteLength;o<a;){if(255!==n.getUint8(o))return i.log("Not a valid marker at offset "+o+", found: "+n.getUint8(o)),!1;if(r=n.getUint8(o+1),i.log(r),225===r)return i.log("Found 0xFFE1 marker"),t.readEXIFData(n,o+4);o+=2+n.getUint16(o+2)}},t.findIPTCinJPEG=function(e){var n=new DataView(e);if(i.log("Got file of length "+e.byteLength),255!==n.getUint8(0)||216!==n.getUint8(1))return i.log("Not a valid JPEG"),!1;for(var r=2,o=e.byteLength;r<o;){if(function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)}(n,r)){var a=n.getUint8(r+7);a%2!=0&&(a+=1),0===a&&(a=4);var s=r+8+a,c=n.getUint16(r+6+a);return t.readIPTCData(e,s,c)}r++}},t.readIPTCData=function(e,n,r){for(var o,i,a,s,c=new DataView(e),u={},l=n;l<n+r;)28===c.getUint8(l)&&2===c.getUint8(l+1)&&(s=c.getUint8(l+2))in t.IptcFieldMap&&(a=c.getInt16(l+3),a+5,i=t.IptcFieldMap[s],o=t.getStringFromDB(c,l+5,a),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(o):u[i]=[u[i],o]:u[i]=o),l++;return u},t.readTags=function(e,n,r,o,a){for(var s,c,u=e.getUint16(r,!a),l={},p=0;p<u;p++)s=r+12*p+2,c=o[e.getUint16(s,!a)],c||i.log("Unknown tag: "+e.getUint16(s,!a)),l[c]=t.readTagValue(e,s,n,r,a);return l},t.readTagValue=function(e,n,r,i,a){var s,c,u,l,p,h,f=e.getUint16(n+2,!a),d=e.getUint32(n+4,!a),g=e.getUint32(n+8,!a)+r;switch(f){case 1:case 7:if(1===d)return e.getUint8(n+8,!a);for(s=d>4?g:n+8,c=[],l=0;l<d;l++)c[l]=e.getUint8(s+l);return c;case 2:return s=d>4?g:n+8,t.getStringFromDB(e,s,d-1);case 3:if(1===d)return e.getUint16(n+8,!a);for(s=d>2?g:n+8,c=[],l=0;l<d;l++)c[l]=e.getUint16(s+2*l,!a);return c;case 4:if(1===d)return e.getUint32(n+8,!a);for(c=[],l=0;l<d;l++)c[l]=e.getUint32(g+4*l,!a);return c;case 5:if(1===d)return p=e.getUint32(g,!a),h=e.getUint32(g+4,!a),u=new o(p/h),u.numerator=p,u.denominator=h,u;for(c=[],l=0;l<d;l++)p=e.getUint32(g+8*l,!a),h=e.getUint32(g+4+8*l,!a),c[l]=new o(p/h),c[l].numerator=p,c[l].denominator=h;return c;case 9:if(1===d)return e.getInt32(n+8,!a);for(c=[],l=0;l<d;l++)c[l]=e.getInt32(g+4*l,!a);return c;case 10:if(1===d)return e.getInt32(g,!a)/e.getInt32(g+4,!a);for(c=[],l=0;l<d;l++)c[l]=e.getInt32(g+8*l,!a)/e.getInt32(g+4+8*l,!a);return c}},t.getStringFromDB=function(t,e,n){for(var r="",o=e;o<e+n;o++)r+=String.fromCharCode(t.getUint8(o));return r},t.readEXIFData=function(e,n){if("Exif"!==t.getStringFromDB(e,n,4))return i.log("Not valid EXIF data! "+t.getStringFromDB(e,n,4)),!1;var r,o,a,s,c,u=n+6;if(18761===e.getUint16(u))r=!1;else{if(19789!==e.getUint16(u))return i.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;r=!0}if(42!==e.getUint16(u+2,!r))return i.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(u+4,!r);if(l<8)return i.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(u+4,!r)),!1;if(o=t.readTags(e,u,u+l,t.TiffTags,r),o.ExifIFDPointer){s=t.readTags(e,u,u+o.ExifIFDPointer,t.Tags,r);for(a in s)if({}.hasOwnProperty.call(s,a)){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[a]=t.StringValues[a][s[a]];break;case"ExifVersion":case"FlashpixVersion":s[a]=String.fromCharCode(s[a][0],s[a][1],s[a][2],s[a][3]);break;case"ComponentsConfiguration":;s[a]=t.StringValues.Components[s[a][0]]+t.StringValues.Components[s[a][1]]+t.StringValues.Components[s[a][2]]+t.StringValues.Components[s[a][3]]}o[a]=s[a]}}if(o.GPSInfoIFDPointer){c=t.readTags(e,u,u+o.GPSInfoIFDPointer,t.GPSTags,r);for(a in c)if({}.hasOwnProperty.call(c,a)){switch(a){case"GPSVersionID":c[a]=c[a][0]+"."+c[a][1]+"."+c[a][2]+"."+c[a][3]}o[a]=c[a]}}return o},t.getData=function(e,n){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(t.imageHasData(e)?n&&n.call(e):t.getImageData(e,n),!0)},t.getTag=function(e,n){if(t.imageHasData(e))return e.exifdata[n]},t.getAllTags=function(e){if(!t.imageHasData(e))return{};var n,r=e.exifdata,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o},t.pretty=function(e){if(!t.imageHasData(e))return"";var n,r=e.exifdata,o="";for(n in r)r.hasOwnProperty(n)&&("object"==typeof r[n]?r[n]instanceof Number?o+=n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":o+=n+" : ["+r[n].length+" values]\r\n":o+=n+" : "+r[n]+"\r\n");return o},t.readFromBinaryFile=function(e){return t.findEXIFinJPEG(e)},t}();a.debug=!1,a.IptcFieldMap={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"},a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},e.Exif=a},565:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.setPressed=function(t){this.pressed=t},t.setReleased=function(t){t===this.pressed&&(this.pressed=void 0)},t.setOver=function(t){this.over=t},t.setStyle=function(t,e){void 0!==this.pressed?this.pressed:this.over},t}();r.share={},e.ImageCropperDataShare=r},566:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(89),i=n(1),a=n(377),s=function(){function t(){}return t}();s=r([i.NgModule({imports:[o.CommonModule],declarations:[a.ImageCropperComponent],exports:[a.ImageCropperComponent]})],s),e.ImageCropperModule=s},567:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(379),i=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return r(e,t),e.prototype.drawCornerBorder=function(t){var e=10;(this.over||this.drag)&&(e=12);var n=1,r=1;if(this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(r=-1),this.cropperSettings.rounded){var o=this.position.x-this.horizontalNeighbour.position.x,i=this.position.y-this.verticalNeighbour.position.y,a=Math.round(Math.sin(Math.PI/2)*Math.abs(o/2))/4,s=Math.round(Math.sin(Math.PI/2)*Math.abs(i/2))/4;this.offset.x=n>0?a:-a,this.offset.y=r>0?s:-s}else this.offset.x=0,this.offset.y=0;t.beginPath(),t.lineJoin="miter",t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y+e*r),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*r),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,t.stroke()},e.prototype.drawCornerFill=function(t){var e=10;(this.over||this.drag)&&(e=12);var n=1,r=1;this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(r=-1),t.beginPath(),t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y+e*r),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*r),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.fillStyle="rgba(255,255,255,.7)",t.fill()},e.prototype.moveX=function(t){this.setPosition(t,this.position.y)},e.prototype.moveY=function(t){this.setPosition(this.position.x,t)},e.prototype.move=function(t,e){this.setPosition(t,e),this.verticalNeighbour.moveX(t),this.horizontalNeighbour.moveY(e)},e.prototype.addHorizontalNeighbour=function(t){this.horizontalNeighbour=t},e.prototype.addVerticalNeighbour=function(t){this.verticalNeighbour=t},e.prototype.getHorizontalNeighbour=function(){return this.horizontalNeighbour},e.prototype.getVerticalNeighbour=function(){return this.verticalNeighbour},e.prototype.draw=function(t){this.drawCornerFill(t),this.drawCornerBorder(t)},e}(o.Handle);e.CornerMarker=i},568:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.id=n||0,this.x=t||0,this.y=e||0,this.dragHandle=null}return t}();e.CropTouch=r},569:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(379),i=n(253),a=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.iconPoints=[],i.scaledIconPoints=[],i.getDragIconPoints(i.iconPoints,1),i.getDragIconPoints(i.scaledIconPoints,1.2),i}return r(e,t),e.prototype.draw=function(t){this.over||this.drag?this.drawIcon(t,this.scaledIconPoints):this.drawIcon(t,this.iconPoints)},e.prototype.getDragIconPoints=function(t,e){var n=17*e,r=14*e,o=8*e,a=4*e;t.push(i.PointPool.instance.borrow(-a/2,n-o)),t.push(i.PointPool.instance.borrow(-r/2,n-o)),t.push(i.PointPool.instance.borrow(0,n)),t.push(i.PointPool.instance.borrow(r/2,n-o)),t.push(i.PointPool.instance.borrow(a/2,n-o)),t.push(i.PointPool.instance.borrow(a/2,a/2)),t.push(i.PointPool.instance.borrow(n-o,a/2)),t.push(i.PointPool.instance.borrow(n-o,r/2)),t.push(i.PointPool.instance.borrow(n,0)),t.push(i.PointPool.instance.borrow(n-o,-r/2)),t.push(i.PointPool.instance.borrow(n-o,-a/2)),t.push(i.PointPool.instance.borrow(a/2,-a/2)),t.push(i.PointPool.instance.borrow(a/2,-n+o)),t.push(i.PointPool.instance.borrow(r/2,-n+o)),t.push(i.PointPool.instance.borrow(0,-n)),t.push(i.PointPool.instance.borrow(-r/2,-n+o)),t.push(i.PointPool.instance.borrow(-a/2,-n+o)),t.push(i.PointPool.instance.borrow(-a/2,-a/2)),t.push(i.PointPool.instance.borrow(-n+o,-a/2)),t.push(i.PointPool.instance.borrow(-n+o,-r/2)),t.push(i.PointPool.instance.borrow(-n,0)),t.push(i.PointPool.instance.borrow(-n+o,r/2)),t.push(i.PointPool.instance.borrow(-n+o,a/2)),t.push(i.PointPool.instance.borrow(-a/2,a/2))},e.prototype.drawIcon=function(t,e){t.beginPath(),t.moveTo(e[0].x+this.position.x,e[0].y+this.position.y);for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x+this.position.x,r.y+this.position.y)}t.closePath(),t.fillStyle=this.cropperSettings.cropperDrawSettings.strokeColor,t.fill()},e.prototype.recalculatePosition=function(t){var e=t.getCentre();this.setPosition(e.x,e.y),i.PointPool.instance.returnPoint(e)},e}(o.Handle);e.DragMarker=a},570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.ImageCropperModel=r},571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.optionName="",this.value=0,this.min=-50,this.step=1,this.max=50,this.type="range"}return t}();e.ActItemOption=r;var o=function(){function t(){this.actName="",this.actEffect="",this.actIcon="",this.selected=!1,this.options=[],this.negativeTitle="取消",this.positiveTitle="确定",this.negativeCb=function(){},this.positiveCb=function(){}}return t}();e.ActItem=o},572:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(571),s=function(){function t(){this.changeEvent=new i.EventEmitter,this.selectEvent=new i.EventEmitter}return t.prototype.changeValue=function(){this.changeEvent.emit(this.actItem)},t.prototype.toggleSelected=function(){this.actItem.selected=!this.actItem.selected,this.selectEvent.emit(this.actItem)},t}();r([i.Input(),o("design:type",a.ActItem)],s.prototype,"actItem",void 0),r([i.Output(),o("design:type",i.EventEmitter)],s.prototype,"changeEvent",void 0),r([i.Output(),o("design:type",i.EventEmitter)],s.prototype,"selectEvent",void 0),s=r([i.Component({selector:"act-item",template:n(731)})],s),e.ActItemComponent=s},573:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(){}return t}();i=r([o.Component({selector:"my-app",template:n(732)})],i),e.AppComponent=i},574:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(381),s=n(177),c=function(){function t(t){this.sharedSerivce=t,this.PS_PICTURE_NAMES=[{effect:"原图",pic:"yuantu"},{effect:"美肤",pic:"meifu"},{effect:"素描",pic:"sumiao"},{effect:"自然增强",pic:"ziran"},{effect:"紫调",pic:"zidiao"},{effect:"柔焦",pic:"roujiao"},{effect:"复古",pic:"fugu"},{effect:"黑白",pic:"heibai"},{effect:"仿lomo",pic:"lomo"},{effect:"亮白增强",pic:"liangbai"},{effect:"灰白",pic:"huibai"},{effect:"灰色",pic:"huise"},{effect:"暖秋",pic:"nuanqiu"},{effect:"木雕",pic:"mudiao"},{effect:"粗糙",pic:"cucao"}],this.ACT_EFFECTS=[{actName:"基础调整",actIcon:"icon-jichu",actEffect:"brightness",options:[{optionName:"亮度",value:0,min:-50,max:50,step:1},{optionName:"对比度",value:0,min:-50,max:50,step:1}]},{actName:"色相/饱和度调节",actIcon:"icon-sexiang",actEffect:"setHSI",options:[{optionName:"色相",value:0,min:-50,max:50,step:1},{optionName:"饱和度",value:0,min:-50,max:50,step:1},{optionName:"明度",value:0,min:-50,max:50,step:1},{optionName:"着色",value:0,min:-50,max:50,step:1,type:"checkbox"}]},{actName:"灰度阈值",actIcon:"icon-huidu",actEffect:"toThresh",options:[{optionName:"阈值",value:127,min:0,max:255,step:1}]},{actName:"高斯模糊",actIcon:"icon-gaosi",actEffect:"gaussBlur",options:[{optionName:"大小",value:0,min:0,max:20,step:1}]},{actName:"锐化",actIcon:"icon-ruihua",actEffect:"sharp",options:[{optionName:"大小",value:0,min:0,max:20,step:1}]},{actName:"马赛克",actIcon:"icon-masaike",actEffect:"mosaic",options:[{optionName:"大小",value:0,min:0,max:20,step:1}]},{actName:"添加杂色",actIcon:"icon-zase",actEffect:"noise",options:[{optionName:"数量",value:0,min:0,max:20,step:1}]},{actName:"暗角",actIcon:"icon-anjiao",actEffect:"darkCorner",options:[{optionName:"大小",value:0,min:0,max:10,step:1},{optionName:"增加暗度",value:0,min:0,max:255,step:1}]}],this.sharedData=t.getSharedData()}return t.prototype.onActChange=function(t){void 0===t&&(t=null);var e=null;if(t){for(var n=[],r=0,o=t.options;r<o.length;r++){var i=o[r];n.push(parseInt(String(i.value),10))}e={effect:t.actEffect,params:n}}this.act(e)},t.prototype.onActSelected=function(t){if(void 0===t&&(t=null),t)for(var e=0,n=this.ACT_EFFECTS;e<n.length;e++){var r=n[e];t.actEffect!==r.actEffect&&(r.selected=!1)}},t.prototype.ps=function(t){var e=this;void 0===t&&(t=""),this.sharedData.imager&&t&&this.sharedData.hasLoaded&&(this.sharedData.isProcessing=!0,setTimeout(function(){e.sharedData.imager.ps({effect:t}).then(function(t){t.status===a.STATUS.SUCESS&&(e.sharedData.imageEffectUrl=t.data.dataUrl),e.sharedData.isProcessing=!1})},100))},t.prototype.act=function(t){var e=this;void 0===t&&(t=null),this.sharedData.imager&&t&&this.sharedData.hasLoaded&&(this.sharedData.isProcessing=!0,setTimeout(function(){e.sharedData.imager.act(t).then(function(t){t.status===a.STATUS.SUCESS&&(e.sharedData.imageEffectUrl=t.data.dataUrl),e.sharedData.isProcessing=!1})},100))},t}();c=r([i.Component({selector:"effect-area",template:n(733)}),o("design:paramtypes",[s.SharedService])],c),e.EffectAreaComponent=c},575:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(381),s=n(177),c=n(374),u={IMAGER:'[data-qimager-elem="image"]',LOADING_WRAP:'[data-qimager-elem="loadingWrap"]',IMAGE_INPUT:'[data-qimager-elem="imageInput"]',IMAGE_EFFECT:'[data-qimager-elem="effectImg"]'},l={SAVE:"图像生成成功！请右键另存为...",PLEASE_OPEN:"请先打开一张图片！"},p=800,h=500,f=[-1,0,0,1,0,0],d=function(){function t(t){this.sharedSerivce=t,this.cropperShow="none",this.imageData={},this.cropData={},this.sharedData=t.getSharedData(),this.cropperSettings=new c.CropperSettings,this.cropperSettings.noFileInput=!0,this.cropperSettings.canvasWidth=p,this.cropperSettings.canvasHeight=h,this.cropperSettings.keepAspect=!1}return t.prototype.ngAfterViewInit=function(){var t=document.querySelector(u.IMAGER);this.sharedData&&(this.sharedData.imager=new a.Imager({img:t}),this.sharedData.imager.init())},t.prototype.imageChange=function(t){var e=this;t&&t.target&&this.sharedData.imager&&t.target.files[0]&&(this.sharedData.isProcessing=!0,setTimeout(function(){e.sharedData.imager.loadImageFile(t.target.files[0]).then(function(t){if(t.status===a.STATUS.SUCESS)return e.sharedData.imager.reset()}).then(function(t){t.status===a.STATUS.SUCESS&&(e.sharedData.imageEffectUrl=e.sharedData.imageOriginUrl=t.data.dataUrl,e.sharedData.hasLoaded=!0),e.sharedData.isProcessing=!1})},100))},t.prototype.openFile=function(){var t=document.querySelector(u.IMAGE_INPUT);t&&t.click()},t.prototype.saveFile=function(){this.sharedData.imager&&(this.sharedData.imageEffectUrl?alert(l.SAVE):alert(l.PLEASE_OPEN))},t.prototype.undo=function(){var t=this;this.sharedData.imager&&this.sharedData.hasLoaded&&(this.sharedData.isProcessing=!0,setTimeout(function(){t.sharedData.imager.undo({effectCategory:t.sharedData.effectCategory}).then(function(e){e.status===a.STATUS.SUCESS&&(t.sharedData.imageEffectUrl=e.data.dataUrl),t.sharedData.isProcessing=!1})},100))},t.prototype.redo=function(){var t=this;this.sharedData.imager&&this.sharedData.hasLoaded&&(this.sharedData.isProcessing=!0,setTimeout(function(){t.sharedData.imager.redo({effectCategory:t.sharedData.effectCategory}).then(function(e){e.status===a.STATUS.SUCESS&&(t.sharedData.imageEffectUrl=e.data.dataUrl),t.sharedData.isProcessing=!1})},100))},t.prototype.renew=function(){var t=this;this.sharedData.imager&&this.sharedData.hasLoaded&&(this.sharedData.isProcessing=!0,setTimeout(function(){t.sharedData.imager.renew().then(function(e){e.status===a.STATUS.SUCESS&&(t.sharedData.imageEffectUrl=e.data.dataUrl),t.sharedData.isProcessing=!1})},100))},t.prototype.doCrop=function(){if(this.sharedData.imager&&this.sharedData.hasLoaded){var t=new Image;t.src=this.sharedData.imageEffectUrl,this.cropper.setImage(t),this.cropperShow="block"}},t.prototype.endCrop=function(){var t=this;this.sharedData.imager&&this.sharedData.hasLoaded&&this.sharedData.imager.clip(this.cropData.left,this.cropData.top,this.cropData.width,this.cropData.height).then(function(e){e.status===a.STATUS.SUCESS&&(t.sharedData.imageEffectUrl=e.data.dataUrl)}),this.cropperShow="none"},t.prototype.cancelCrop=function(){this.cropperShow="none"},t.prototype.onCrop=function(t){if(void 0===t&&(t=null),t){var e=t.width,n=t.height,r=t.getCentre(),o=r.x,i=r.y,a=i-n/2,s=o-e/2;this.cropData={left:s,top:a,width:e,height:n}}},t.prototype.mirror=function(t){var e=this;void 0===t&&(t=null),this.sharedData.hasLoaded&&this.sharedData.imager&&(this.sharedData.isProcessing=!0,this.sharedData.imager.transform(f).then(function(t){t.status===a.STATUS.SUCESS&&(e.sharedData.imageEffectUrl=t.data.dataUrl),e.sharedData.isProcessing=!1}))},t}();r([i.ViewChild(c.ImageCropperComponent),o("design:type",c.ImageCropperComponent)],d.prototype,"cropper",void 0),d=r([i.Component({selector:"header-area",template:n(734)}),o("design:paramtypes",[s.SharedService])],d),e.HeaderAreaComponent=d},576:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(177),s=n(287),c={IMG_ORIGIN:'[data-qimager-elem="originImg"]',IMG_EFFECT:'[data-qimager-elem="effectImg"]'},u=function(){function t(t){this.sharedService=t,this.isOrigin=!1,this.defaultUrl="http://halzhan.cn/qimager/public/slicing/images/stop.jpg",this.sharedData=t.getSharedData()}return t.prototype.toggleOrigin=function(){var t=document.querySelector(c.IMG_ORIGIN),e=document.querySelector(c.IMG_EFFECT);if(t&&e){var n=t.width,r=t.height,o=(s(t).css("zIndex"),e.width),i=e.height;s(e).css("zIndex");s(t).animate({width:o+"px",height:i+"px"},"normal",function(){}),s(e).animate({width:n+"px",height:r+"px"},"normal",function(){}),this.isOrigin=!this.isOrigin}},t}();u=r([i.Component({selector:"stage-area",template:n(735)}),o("design:paramtypes",[a.SharedService])],u),e.StageAreaComponent=u},577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FLAGS_STACK={NODIRECTION:0,TOP:1,BOTTOM:-1};var r=function(){function t(t){void 0===t&&(t={}),this._stack=[],this._ptr=-1,this._size=Number.MAX_VALUE,t.size&&(this._size=t.size)}return t.prototype._moveTop=function(){var t=this._stack.length;this._ptr=this._ptr<t-1?this._ptr+1:t-1},t.prototype._moveBottom=function(){var t=this._stack.length;this._ptr=t?this._ptr<1?0:this._ptr-1:-1},t.prototype.push=function(t){t&&(this._ptr<this._size-1?(this._stack.push(t),this._ptr=this._stack.length-1):(this._stack.splice(0,1),this._stack.push(t)))},t.prototype.pop=function(){if(this._stack&&this._stack.length)return this._ptr--,this._stack.pop()},t.prototype.load=function(t){return void 0===t&&(t=0),t===e.FLAGS_STACK.TOP?this._moveTop():t===e.FLAGS_STACK.BOTTOM&&this._moveBottom(),this._stack[this._ptr]},t.prototype.reset=function(){this._stack=[],this._ptr=-1},t.prototype.destroy=function(){this._stack=null,this._ptr=-1},t}();e.Stack=r},578:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(197),o=n(1),i=n(445);o.enableProdMode(),r.platformBrowserDynamic().bootstrapModule(i.AppModule)},68:function(t,e,n){"use strict";function r(t,e){return e.path.concat([t])}function o(t,e){t||c(e,"Cannot find control with"),e.valueAccessor||c(e,"No value accessor for form control with"),t.validator=g.c.compose([t.validator,e.validator]),t.asyncValidator=g.c.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function i(t,e){e.valueAccessor.registerOnChange(function(){return s(e)}),e.valueAccessor.registerOnTouched(function(){return s(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function a(t,e){n.i(d.f)(t)&&c(e,"Cannot find control with"),t.validator=g.c.compose([t.validator,e.validator]),t.asyncValidator=g.c.composeAsync([t.asyncValidator,e.asyncValidator])}function s(t){return c(t,"There is no FormControl instance attached to form control element with")}function c(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function u(t){return n.i(d.c)(t)?g.c.compose(t.map(v.a)):null}function l(t){return n.i(d.c)(t)?g.c.composeAsync(t.map(v.b)):null}function p(t,e){if(!t.hasOwnProperty("model"))return!1;var r=t.model;return!!r.isFirstChange()||!n.i(d.b)(e,r.currentValue)}function h(t){return w.some(function(e){return t.constructor===e})}function f(t,e){if(!e)return null;var n,r,o;return e.forEach(function(e){e.constructor===y.a?n=e:h(e)?(r&&c(t,"More than one built-in value accessor matches form control with"),r=e):(o&&c(t,"More than one custom value accessor matches form control with"),o=e)}),o||(r||(n||(c(t,"No valid value accessor for form control with"),null)))}var d=n(95),g=n(43),m=n(165),y=n(166),v=n(528),b=n(235),_=n(122),C=n(236),P=n(169),S=n(170);e.c=r,e.d=o,e.f=i,e.e=a,e.a=u,e.b=l,e.h=p,e.g=f;var w=[m.a,C.a,b.a,P.b,S.a,_.a]},731:function(t,e){t.exports='<li class="e_item">\n    <div class="adv-title {{ actItem.selected? \'selected\':\'\'}}" (click)="toggleSelected()"><i class="iconfont {{actItem.actIcon}}"></i>{{actItem.actName}}<i class="iconfont icon-arrow"></i></div>\n    <div class="function-items" *ngIf="actItem.selected" >\n        <div class="function-item" *ngFor="let option of actItem.options">\n            <div class="item-tit">{{option.optionName}}\n                <span class="item-input" *ngIf="!option.type||option.type===\'range\'">{{option.value}}</span>\n            </div>\n            <div class="bar-box">\n                <input (change)="changeValue()" type="{{option.type || \'range\'}}" [(ngModel)]="option.value" value="{{option.value}}" step="{{option.step}}" min="{{option.min}}" max="{{option.max}}" />\n            </div>\n        </div>\n        \x3c!--<div class="bar-btns">\n            <a href="javascript:;" class="bar-btn" (click)="changeValue()" >{{actItem.positiveTitle||\'确定\'}}</a>\n            <a href="javascript:;" class="bar-btn" >{{actItem.negativeTitle||\'取消\'}}</a>\n        </div>--\x3e\n    </div>\n</li>'},732:function(t,e){t.exports='<header-area></header-area>\n<div class="wrapper">\n  <effect-area></effect-area>\n  <stage-area></stage-area>\n</div>'},733:function(t,e){t.exports='<div class="left-wrapper">\n    <div class="left">\n        <div class="tab">\n            <ul>\n                <li class="{{ sharedData.effectCategory===0? \'selected\':\'\'}}" (click)="sharedData.effectCategory=0">效果</li>\n                <li class="{{ sharedData.effectCategory===1? \'selected\':\'\'}}" (click)="sharedData.effectCategory=1">高级效果</li>\n            </ul>\n        </div>\n        <div class="effects-box {{ sharedData.effectCategory===0? \'\' :\'dn\'}}">\n            <ul id="effects" class="effects">\n                <li *ngFor="let obj of PS_PICTURE_NAMES" class="e_item" (click)="ps(obj.effect)">\n                    <div class="imgWrapper">\n                        <img src="{{\'http://halzhan.cn/qimager/public/slicing/images/\'+obj.pic+\'.png\'}}" alt="">{{obj.effect}}\n                    </div>\n                </li>\n            </ul>\n        </div>\n        \x3c!--高级效果 start--\x3e\n        <div class="advanced-effects {{ sharedData.effectCategory===1? \'\' :\'dn\'}}">\n            <ul class="advanced-effects-con">\n                <act-item *ngFor="let item of ACT_EFFECTS" [actItem]="item" (changeEvent)="onActChange($event)" (selectEvent)="onActSelected($event)" ></act-item>\n            </ul>\n        </div>\n        \x3c!--高级效果 end--\x3e\n    </div>\n</div>'},734:function(t,e){t.exports='<div class="header">\n    <input type="file" style="display:none;" data-qimager-elem="imageInput" (change)="imageChange($event)">\n<img data-qimager-elem="image" src="xxxHTMLLINKxxx0.60936144778948180.27073130797557xxx" alt="" draggable="false" style="display:none;">\n<div class="logo">QImager</div>\n<div class="function-btns">\n    <a (click)="openFile()" class="fun-btn open" href="javascript:;"><i class="iconfont icon-open"></i>打开图片</a>\n    <a (click)="doCrop()" class="fun-btn cut" href="javascript:;"><i class="iconfont icon-cut"></i>剪裁</a>\n    <a (click)="mirror()" class="fun-btn saveEffect" href="javascript:;"><i class="iconfont icon-jingxiang"></i>镜像</a>\n    <a (click)="undo()" class="fun-btn cancel" href="javascript:;"><i class="iconfont icon-cancel2"></i>撤销</a>\n    <a (click)="redo()" class="fun-btn redo" href="javascript:;"><i class="iconfont icon-redo"></i>恢复</a>\n    <a (click)="renew()" class="fun-btn yuantu" href="javascript:;"><i class="iconfont icon-yuantu"></i>重做</a>\n    <a (click)="sharedData.hasLoaded&&(sharedData.curStage=(sharedData.curStage===0)?1:0)" class="fun-btn compare" href="javascript:;"><i class="iconfont icon-compare"></i>{{sharedData.curStage===0?\'对比\':\'原图\'}}</a>\n    <a (click)="saveFile()" class="fun-btn save" href="javascript:;"><i class="iconfont icon-save"></i>保存</a>\n</div>\n</div>\n<div class="cropper-modal" [ngStyle]="{display: cropperShow}">\n    <img-cropper [image]="imageData" [settings]="cropperSettings" (onCrop)="onCrop($event)" ></img-cropper>\n    <button (click)="endCrop()" >确认</button>\n    <button (click)="cancelCrop()" >取消</button>\n</div>'},735:function(t,e){t.exports='<div class="right">\n    <div class="picWrapper" *ngIf="sharedData.curStage===0">\n        <a (click)="toggleOrigin()" class="small-yuantu" href="javascript:;">\n            <span class="yuantu-text">{{isOrigin?\'效果\':\'原图\'}}</span>\n            <img data-qimager-elem="originImg" src="{{sharedData.hasLoaded?sharedData.imageOriginUrl:defaultUrl}}" alt="" draggable="false" style="z-index: 2">\n        </a>\n        <img data-qimager-elem="effectImg" src="{{sharedData.hasLoaded?sharedData.imageEffectUrl:defaultUrl}}" alt="" draggable="false" style="z-index: 1">\n    </div>\n    <div class="picCompare" *ngIf="sharedData.curStage===1">\n        <div class="yuantu">\n            <p>原图：</p>\n            <img class="yuantu" src="{{sharedData.imageOriginUrl}}" alt="" draggable="false" >\n        </div>\n        <div class="effect">\n            <p>效果图：</p>\n            <img class="effect" src="{{sharedData.imageEffectUrl}}" alt="" draggable="false" >\n        </div>\n    </div>\n    <div *ngIf="sharedData.isProcessing" data-qimager-elem="loadingWrap" class="infoMsg">处理中</div>\n</div>'},82:function(t,e,n){"use strict";function r(){throw new Error("unimplemented")}var o=n(232);n.d(e,"a",function(){return a});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return i(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return r()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return r()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(o.a)},94:function(t,e,n){"use strict";var r=n(13),o=(n.n(r),n(0));n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.__isAsync=e}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,i=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(i=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,o,i,a)},e}(r.Subject)},95:function(t,e,n){"use strict";(function(t){function n(t){return null!=t}function r(t){return null==t}function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function i(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function a(){if(!u)if(c.Symbol&&Symbol.iterator)u=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(u=n)}return u}function s(t){return!i(t)}e.c=n,e.f=r,e.b=o,e.d=i,e.e=a,e.a=s;var c;c="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window,c.assert=function(t){};var u=(Object.getPrototypeOf({}),function(){function t(){}t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))}}(),null)}).call(e,n(49))}},[578]);